<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>PC1</title>
<style>
body { font-family: Arial, sans-serif; background: #f0f0f0; padding: 20px; }
h1 { text-align: center; }
.grupo { border-radius: 12px; padding: 20px; margin: 20px 0; color: white; }
.titulo-grupo { text-align: center; font-weight: bold; font-size: 20px; margin-bottom: 15px; }
.boton { display: block; width: 100%; margin: 8px 0; padding: 12px; border: 2px solid white; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; background: rgba(255,255,255,0.2); color: white; }
</style>
</head>
<body>
<h1>Macros PC1</h1>
<div id="contenedor"></div>

<script>
const PC_ID = "pc1";

function obtenerConfig() {
  return JSON.parse(localStorage.getItem("config")) || {};
}

function mostrarConfig() {
  const data = obtenerConfig();
  const config = data[PC_ID] || { macros: [] , whatsapp:'', link:''};
  const cont = document.getElementById("contenedor");
  cont.innerHTML = "";

  // Por cada grupo
  config.macros.forEach(grupo => {
    const div = document.createElement("div");
    div.className = "grupo";
    div.style.background = grupo.color;

    const titulo = document.createElement("div");
    titulo.className = "titulo-grupo";
    titulo.textContent = grupo.titulo;
    div.appendChild(titulo);

    grupo.botones.forEach(b => {
      const btn = document.createElement("button");
      btn.className = "boton";
      btn.textContent = b.texto;
      btn.onclick = () => navigator.clipboard.writeText(b.mensaje);
      div.appendChild(btn);
    });

    cont.appendChild(div);
  });

  // SecciÃ³n Crear Usuario
  const grupoUsuario = document.createElement("div");
  grupoUsuario.className = "grupo";
  grupoUsuario.style.background = "#ff6b81"; // color de reinvinculacion/crear usuario
  const tituloUsuario = document.createElement("div");
  tituloUsuario.className = "titulo-grupo";
  tituloUsuario.textContent = "CREAR USUARIO";
  grupoUsuario.appendChild(tituloUsuario);

  const input = document.createElement("input");
  input.type = "text";
  input.id = "nuevoUsuario";
  input.placeholder = "Escribe un nombre de usuario...";
  grupoUsuario.appendChild(input);

  const botonGenerar = document.createElement("button");
  botonGenerar.className = "boton";
  botonGenerar.textContent = "Generar Usuario";
  botonGenerar.onclick = () => {
    const usuario = input.value.trim();
    if(!usuario){ alert("Escribe un usuario"); return; }
    const mensaje = "Usuario: " + usuario + "\nContraseÃ±a: 12345a\n" + config.link;
    navigator.clipboard.writeText(mensaje);
  };
  grupoUsuario.appendChild(botonGenerar);

  cont.appendChild(grupoUsuario);

  // SecciÃ³n Reinvitar
  const grupoReinv = document.createElement("div");
  grupoReinv.className = "grupo";
  grupoReinv.style.background = "#2ecc71"; // color reinvinculacion
  const tituloReinv = document.createElement("div");
  tituloReinv.className = "titulo-grupo";
  tituloReinv.textContent = "REINVITACIÃ“N";
  grupoReinv.appendChild(tituloReinv);

  const inputReinv = document.createElement("input");
  inputReinv.type = "text";
  inputReinv.id = "usuarioReinv";
  inputReinv.placeholder = "Escribe un nombre de usuario...";
  grupoReinv.appendChild(inputReinv);

  const botonReinv = document.createElement("button");
  botonReinv.className = "boton";
  botonReinv.textContent = "Generar Mensaje";
  botonReinv.onclick = () => {
    const usuario = inputReinv.value.trim();
    if(!usuario){ alert("Escribe un usuario"); return; }
    const whatsapp = config.whatsapp || '';
    const mensaje = `ğŸ‰ VolvÃ© a jugar con nosotros ${usuario} ğŸ¤© Te estamos esperando ğŸ€ ğŸ‘‰ https://wa.me/${whatsapp}`;
    navigator.clipboard.writeText(mensaje);
  };
  grupoReinv.appendChild(botonReinv);

  cont.appendChild(grupoReinv);
}

mostrarConfig();
</script>
</body>
</html>
