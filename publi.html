<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>PC1</title>
<style>
  body { font-family: Arial, sans-serif; background: #f0f0f0; padding: 20px; }
  h1 { text-align: center; }
  .grupo { border-radius: 12px; padding: 20px; margin: 20px 0; color: white; }
  .titulo-grupo { text-align: center; font-weight: bold; font-size: 20px; margin-bottom: 15px; }
  .boton { display: block; width: 100%; margin: 8px 0; padding: 12px; border: 2px solid white; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; background: rgba(255,255,255,0.2); color: white; }
  input { width: 100%; padding: 10px; margin: 8px 0; border-radius: 5px; border: 1px solid #ccc; font-size: 16px; }
  .mensaje { text-align: center; color: green; font-weight: bold; margin-top: 10px; }
</style>
</head>
<body>
<h1>Macros PC1</h1>
<div id="contenedor"></div>

<script>
const PC_ID = "pc1";

// Funciones para macros
function obtenerConfig() { return JSON.parse(localStorage.getItem("config")) || {}; }

function obtenerWhatsApp() {
  const data = obtenerConfig();
  return data[PC_ID]?.whatsapp || '5491169722387';
}

function mostrarConfig() {
  const data = obtenerConfig();
  const config = data[PC_ID] || { macros: [] };
  const cont = document.getElementById("contenedor");
  cont.innerHTML = "";

  // Mostrar macros
  config.macros.forEach(grupo => {
    const div = document.createElement("div");
    div.className = "grupo";
    div.style.background = grupo.color;

    const titulo = document.createElement("div");
    titulo.className = "titulo-grupo";
    titulo.textContent = grupo.titulo;
    div.appendChild(titulo);

    grupo.botones.forEach(b => {
      const btn = document.createElement("button");
      btn.className = "boton";
      btn.textContent = b.texto;
      btn.onclick = () => navigator.clipboard.writeText(b.mensaje);
      div.appendChild(btn);
    });

    cont.appendChild(div);
  });

  // --- CREAR USUARIO ---
  const divUsuario = document.createElement("div");
  divUsuario.className = "grupo";
  divUsuario.style.background = "#ff6b81";
  const tituloUsuario = document.createElement("div");
  tituloUsuario.className = "titulo-grupo";
  tituloUsuario.textContent = "CREAR USUARIO";
  divUsuario.appendChild(tituloUsuario);

  const inputUsuario = document.createElement("input");
  inputUsuario.placeholder = "Escribe un nombre de usuario...";
  inputUsuario.id = "nuevoUsuario";
  divUsuario.appendChild(inputUsuario);

  const btnUsuario = document.createElement("button");
  btnUsuario.className = "boton";
  btnUsuario.textContent = "Generar Usuario";
  btnUsuario.onclick = () => {
    const usuario = inputUsuario.value.trim();
    if(!usuario) return alert("Escribe un nombre de usuario");
    const mensaje = `Usuario: ${usuario}\nContraseÃ±a: 12345a\nm01.bet300vip.com`;
    navigator.clipboard.writeText(mensaje);
    mostrarMensaje("Usuario copiado âœ…");
  };
  divUsuario.appendChild(btnUsuario);
  cont.appendChild(divUsuario);

  // --- REINVITACIÃ“N ---
  const divReinv = document.createElement("div");
  divReinv.className = "grupo";
  divReinv.style.background = "#2ecc71";
  const tituloReinv = document.createElement("div");
  tituloReinv.className = "titulo-grupo";
  tituloReinv.textContent = "REINVITACIÃ“N / REVINCULACIÃ“N";
  divReinv.appendChild(tituloReinv);

  const inputReinv = document.createElement("input");
  inputReinv.placeholder = "Escribe un nombre de usuario...";
  inputReinv.id = "usuario";
  divReinv.appendChild(inputReinv);

  const btnReinv = document.createElement("button");
  btnReinv.className = "boton";
  btnReinv.textContent = "Generar y Copiar";
  btnReinv.onclick = () => {
    const usuario = inputReinv.value.trim();
    if(!usuario) return alert("Escribe un nombre de usuario");
    const linkWhatsApp = "https://wa.me/" + obtenerWhatsApp();
    const mensajes = [
      `ðŸŽ‰ VolvÃ© a jugar con nosotros ${usuario} ðŸ¤©\nTe estamos esperando ðŸ€ ðŸ‘‰ ${linkWhatsApp}`,
      `ðŸ”¥ ${usuario}, regresÃ¡ ya ðŸ‘‰\nTe esperan premios increÃ­bles ðŸŽ ${linkWhatsApp}`,
      `ðŸ¥³ Hola ${usuario} ðŸ’Ž\nLa diversiÃ³n continÃºa, entrÃ¡ ahora ðŸš€ ${linkWhatsApp}`,
      `ðŸŽ® ${usuario}, tus fichas te esperan âš¡\nNo te pierdas la acciÃ³n ðŸ’¥ ${linkWhatsApp}`
    ];
    const randomIndex = Math.floor(Math.random() * mensajes.length);
    navigator.clipboard.writeText(mensajes[randomIndex]);
    mostrarMensaje("Mensaje de reinvitaciÃ³n copiado âœ…");
  };
  divReinv.appendChild(btnReinv);
  cont.appendChild(divReinv);
}

function mostrarMensaje(txt) {
  let div = document.querySelector(".mensaje");
  if(!div) {
    div = document.createElement("div");
    div.className = "mensaje";
    document.body.appendChild(div);
  }
  div.textContent = txt;
  setTimeout(() => div.textContent = "", 2000);
}

// Mostrar al cargar
mostrarConfig();
</script>
</body>
</html>
